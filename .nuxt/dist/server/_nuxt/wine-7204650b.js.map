{"version":3,"file":"wine-7204650b.js","sources":["../../../../components/wine/wineJumbo.vue","../../../../components/wine/wineFilters.vue","../../../../components/wine/wineCard.vue","../../../../node_modules/nuxt/dist/app/composables/ssr.js","../../../../node_modules/nuxt/dist/app/composables/asyncData.js","../../../../node_modules/nuxt/dist/app/composables/fetch.js","../../../../composables/useFetchWines.js","../../../../pages/wine.vue"],"sourcesContent":["<template>\r\n  <section class=\"dark:bg-gray-900\">\r\n    <div class=\"py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16\">\r\n        <h1 class=\"mb-4 text-4xl font-teko tracking-widest leading-none  md:text-6xl lg:text-8xl text-[#FDA47E] dark:text-[#FDA47E] font-bold\">GÓÐ VÍNKAUP</h1>\r\n        <p class=\"mb-8 text-lg font-montserrat text-[#FDA47E] lg:text-2xl sm:px-16 lg:px-48 dark:text-[#FDA47E]\">\r\n          Hér er hægt að leita í vínlista ÁTVR og Sante ásamt einkunn þeirra frá Vivino. Einungis er um að ræða 750ml flöskur því allt annað er bara rugl.\r\n        </p>\r\n    </div>\r\n  </section>\r\n</template>","<script setup>\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst searchInput = ref(\"\");\r\n\r\nconst wineAttributes = ref({\r\n  category: \"Allar\",\r\n  min: \"\",\r\n  max: \"\"\r\n});\r\n\r\n// Mapping object to convert category values\r\nconst categoryMapping = {\r\n  \"Allar\"  : \"Any\",\r\n  \"Rauðvín\": \"Red Wine\",\r\n  \"Hvítvín\": \"White Wine\",\r\n  \"Rósavín\": \"Rose\",\r\n  \"Freyðivín\": \"Sparkling Wine\"\r\n};\r\n//Fall til að endurvarpa gildunum úr ensku í íslensku\r\nfunction ReverseMapping(object, value) {\r\n  return Object.keys(object).find(key =>\r\n    object[key] === value);\r\n}\r\n\r\n// Update wineAttributes with query parameters on component mount\r\nonMounted(() => {\r\n  const { query } = route;\r\n  if (query.category) {\r\n    //Endurmappa Enskt vínheiti í íslensk til að setja í ref gildið.\r\n    wineAttributes.value.category = ReverseMapping(categoryMapping, query.category);\r\n  }\r\n  if (query.minPrice) {\r\n    wineAttributes.value.min = query.minPrice;\r\n  }\r\n  if (query.maxPrice) {\r\n    wineAttributes.value.max = query.maxPrice;\r\n  }\r\n\r\n  if(query.search){\r\n    searchInput.value = query.search;\r\n  }\r\n  \r\n});\r\n\r\n\r\n\r\nconst onChangeFilter = () => {\r\n  const queryParams = {};\r\n  if (wineAttributes.value.min){\r\n    queryParams.minPrice = wineAttributes.value.min\r\n  }\r\n\r\n  if (wineAttributes.value.max){\r\n    queryParams.maxPrice = wineAttributes.value.max\r\n  }\r\n\r\n  // Map displayed category value to query parameter value\r\n  queryParams.category = categoryMapping[wineAttributes.value.category]\r\n\r\n  if(searchInput.value){\r\n    queryParams.search = searchInput.value.trim();\r\n  };\r\n  \r\n\r\n\r\n  console.log(queryParams)\r\n\r\n  router.push({\r\n    query:{\r\n      ...queryParams\r\n    },\r\n  });\r\n};\r\n\r\nconst resetFilters = () => {\r\n  //tek af alla query params og endurstilli ref\r\n  router.replace({ query: undefined });\r\n  wineAttributes.value.min = \"\",\r\n  wineAttributes.value.max = \"\",\r\n  wineAttributes.value.category = \"Allar\",\r\n  searchInput.value=\"\"\r\n};\r\n\r\n\r\n/*onMounted(() => {\r\n  winePriceMin.value = route.query.minPrice;\r\n  winePriceMax.value = route.query.maxPrice;\r\n});*/\r\n\r\n</script>\r\n\r\n<template>\r\n<div class=\"mx-auto max-w-3xl md:w-full bg-[#FFE7D4] rounded-lg shadow m-5\">\r\n  <div class=\"m-2 max-w-screen-md\">\r\n    <div class=\"rounded-xl p-6\">\r\n      <h2 class=\"text-stone-700 text-xl font-bold\">Þrengdu niðurstöðurnar</h2>\r\n      <p class=\"mt-1 text-sm\">Prófaðu síurnar. Með leitinni er hægt að leita að ýmsum eiginleikum, eins og nafni, árgerð og landi.</p>\r\n      <div class=\"mt-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"searchAll\" class=\"text-stone-600 text-sm font-medium\">Leit</label>\r\n          <input type=\"text\" v-model=\"searchInput\" id=\"searchAll\" placeholder=\"prófaðu leitina\" class=\"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50\" />\r\n        </div>\r\n\r\n\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"wineType\" class=\"text-stone-600 text-sm font-medium\">Tegund</label>\r\n          <select id=\"wineType\" v-model=\"wineAttributes.category\" class=\"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50\">\r\n            <option>Allar</option>\r\n            <option>Rauðvín</option>\r\n            <option>Hvítvín</option>\r\n            <option>Rósavín</option>\r\n            <option>Freyðivín</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"winePriceMin\" class=\"text-stone-600 text-sm font-medium\">Lágmarksverð</label>\r\n          <input type=\"number\" id=\"winePriceMin\" placeholder=\"Lágmarksverð\" v-model=\"wineAttributes.min\" class=\"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50\" />\r\n        </div>\r\n\r\n        <div class=\"flex flex-col\">\r\n          <label for=\"winePriceMin\" class=\"text-stone-600 text-sm font-medium\">Hámarksverð</label>\r\n          <input type=\"number\" id=\"winePriceMax\" placeholder=\"Hámarksverð\" v-model=\"wineAttributes.max\" class=\"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mt-6 grid w-full grid-cols-2 justify-end space-x-4 md:flex\">\r\n        <button @click =\"resetFilters\" \r\n                class=\"active:scale-95 rounded-lg bg-gray-200 px-8 py-2 font-medium text-gray-600 outline-none focus:ring hover:opacity-90\">Endurstilla</button>\r\n        <button @click=\"onChangeFilter\"\r\n                class=\"active:scale-95 rounded-lg bg-blue-600 px-8 py-2 font-medium text-white outline-none focus:ring hover:opacity-90\">Leita</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n\r\n","<script setup>\r\n\r\nconst props = defineProps({\r\n  wine: Object,\r\n  link_vivino: String,\r\n  link_store: String,\r\n});\r\n\r\nlet wineColor;\r\nlet wineType;\r\nconst handleWineColor = () =>{\r\n  if(props.wine.category == 'Red Wine'){\r\n    wineColor = 'text-[#a82548]';\r\n    wineType = 'Rauðvín';\r\n  } else if(props.wine.category == 'White Wine') {\r\n    wineColor = 'text-[#a9ae03]';\r\n    wineType = 'Hvítvín';\r\n  } else if(props.wine.category == 'Rose') {\r\n    wineColor = 'text-[#f98e72]';\r\n    wineType = 'Rósavín';\r\n  } else {\r\n    wineColor = 'text-[#fec67a]';\r\n    wineType = 'Freyðivín';\r\n  }\r\n};\r\nhandleWineColor();\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"mx-auto max-w-3xl md:w-full bg-[#FFE7D4] rounded-lg shadow m-5\">\r\n      <div class=\"flex flex-col p-7 font-teko\">\r\n        <p class=\"text-lg\" :class=\"`${wineColor}`\">{{wineType}}</p>\r\n        <h2 class=\"mb-10 text-5xl font-medium  dark:text-white\">{{ wine.wine_name }}</h2>\r\n        <div class=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ wine.producer }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">FRAMLEIÐANDI</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ parseInt(wine.price).toLocaleString(\"de-DE\") }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">VERÐ</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ wine.country }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">LAND</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ wine.rating }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">EINKUNN</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-if=\"wine.taste_group\">\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ wine.taste_group }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">BRAGÐFLOKKUR</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"wine.grapes !=0\">\r\n            <div>\r\n            <span class=\"text-md text-xl\">{{ wine.grapes }}</span>\r\n            </div>\r\n            <div>\r\n            <span class=\"text-md text-[#7a7a7a]\">ÞRÚGUR</span>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"flex mt-4 md:mt-6 tracking-wide\">\r\n          <a :href=\"props.link_store\" target=\"_blank\" class=\"inline-flex items-center px-4 py-2 text-m font-medium text-center text-white bg-[#625A5A] rounded-lg hover:bg-[#888080] focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-[#625A5A] dark:hover:bg-[#888080] dark:focus:ring-[#352E2E] \">{{wine.seller}}</a>\r\n          <a :href=\"props.link_vivino\" target=\"_blank\" class=\"inline-flex items-center px-4 py-2 text-m font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700 ms-3\">Vivino</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>","import { setResponseStatus as _setResponseStatus, appendHeader, getRequestHeaders } from \"h3\";\nimport { useNuxtApp } from \"../nuxt.js\";\nexport function useRequestEvent(nuxtApp = useNuxtApp()) {\n  return nuxtApp.ssrContext?.event;\n}\nexport function useRequestHeaders(include) {\n  if (import.meta.client) {\n    return {};\n  }\n  const event = useRequestEvent();\n  const headers = event ? getRequestHeaders(event) : {};\n  if (!include) {\n    return headers;\n  }\n  return Object.fromEntries(include.map((key) => key.toLowerCase()).filter((key) => headers[key]).map((key) => [key, headers[key]]));\n}\nexport function useRequestFetch() {\n  if (import.meta.client) {\n    return globalThis.$fetch;\n  }\n  return useRequestEvent()?.$fetch || globalThis.$fetch;\n}\nexport function setResponseStatus(arg1, arg2, arg3) {\n  if (import.meta.client) {\n    return;\n  }\n  if (arg1 && typeof arg1 !== \"number\") {\n    return _setResponseStatus(arg1, arg2, arg3);\n  }\n  return _setResponseStatus(useRequestEvent(), arg1, arg2);\n}\nexport function prerenderRoutes(path) {\n  if (!process.server || !process.env.prerender) {\n    return;\n  }\n  const paths = Array.isArray(path) ? path : [path];\n  appendHeader(useRequestEvent(), \"x-nitro-prerender\", paths.map((p) => encodeURIComponent(p)).join(\", \"));\n}\n","import { getCurrentInstance, onBeforeMount, onServerPrefetch, onUnmounted, ref, shallowRef, toRef, unref, watch } from \"vue\";\nimport { useNuxtApp } from \"../nuxt.js\";\nimport { createError } from \"./error.js\";\nimport { onNuxtReady } from \"./ready.js\";\nimport { asyncDataDefaults } from \"#build/nuxt.config.mjs\";\nexport function useAsyncData(...args) {\n  const autoKey = typeof args[args.length - 1] === \"string\" ? args.pop() : void 0;\n  if (typeof args[0] !== \"string\") {\n    args.unshift(autoKey);\n  }\n  let [key, handler, options = {}] = args;\n  if (typeof key !== \"string\") {\n    throw new TypeError(\"[nuxt] [asyncData] key must be a string.\");\n  }\n  if (typeof handler !== \"function\") {\n    throw new TypeError(\"[nuxt] [asyncData] handler must be a function.\");\n  }\n  const nuxt = useNuxtApp();\n  const getDefault = () => null;\n  const getDefaultCachedData = () => nuxt.isHydrating ? nuxt.payload.data[key] : nuxt.static.data[key];\n  options.server = options.server ?? true;\n  options.default = options.default ?? getDefault;\n  options.getCachedData = options.getCachedData ?? getDefaultCachedData;\n  options.lazy = options.lazy ?? false;\n  options.immediate = options.immediate ?? true;\n  options.deep = options.deep ?? asyncDataDefaults.deep;\n  const hasCachedData = () => ![null, void 0].includes(options.getCachedData(key));\n  if (!nuxt._asyncData[key] || !options.immediate) {\n    nuxt.payload._errors[key] ??= null;\n    const _ref = options.deep ? ref : shallowRef;\n    nuxt._asyncData[key] = {\n      data: _ref(options.getCachedData(key) ?? options.default()),\n      pending: ref(!hasCachedData()),\n      error: toRef(nuxt.payload._errors, key),\n      status: ref(\"idle\")\n    };\n  }\n  const asyncData = { ...nuxt._asyncData[key] };\n  asyncData.refresh = asyncData.execute = (opts = {}) => {\n    if (nuxt._asyncDataPromises[key]) {\n      if (opts.dedupe === false) {\n        return nuxt._asyncDataPromises[key];\n      }\n      nuxt._asyncDataPromises[key].cancelled = true;\n    }\n    if ((opts._initial || nuxt.isHydrating && opts._initial !== false) && hasCachedData()) {\n      return Promise.resolve(options.getCachedData(key));\n    }\n    asyncData.pending.value = true;\n    asyncData.status.value = \"pending\";\n    const promise = new Promise(\n      (resolve, reject) => {\n        try {\n          resolve(handler(nuxt));\n        } catch (err) {\n          reject(err);\n        }\n      }\n    ).then((_result) => {\n      if (promise.cancelled) {\n        return nuxt._asyncDataPromises[key];\n      }\n      let result = _result;\n      if (options.transform) {\n        result = options.transform(_result);\n      }\n      if (options.pick) {\n        result = pick(result, options.pick);\n      }\n      nuxt.payload.data[key] = result;\n      asyncData.data.value = result;\n      asyncData.error.value = null;\n      asyncData.status.value = \"success\";\n    }).catch((error) => {\n      if (promise.cancelled) {\n        return nuxt._asyncDataPromises[key];\n      }\n      asyncData.error.value = createError(error);\n      asyncData.data.value = unref(options.default());\n      asyncData.status.value = \"error\";\n    }).finally(() => {\n      if (promise.cancelled) {\n        return;\n      }\n      asyncData.pending.value = false;\n      delete nuxt._asyncDataPromises[key];\n    });\n    nuxt._asyncDataPromises[key] = promise;\n    return nuxt._asyncDataPromises[key];\n  };\n  const initialFetch = () => asyncData.refresh({ _initial: true });\n  const fetchOnServer = options.server !== false && nuxt.payload.serverRendered;\n  if (import.meta.server && fetchOnServer && options.immediate) {\n    const promise = initialFetch();\n    if (getCurrentInstance()) {\n      onServerPrefetch(() => promise);\n    } else {\n      nuxt.hook(\"app:created\", async () => {\n        await promise;\n      });\n    }\n  }\n  if (import.meta.client) {\n    const instance = getCurrentInstance();\n    if (instance && !instance._nuxtOnBeforeMountCbs) {\n      instance._nuxtOnBeforeMountCbs = [];\n      const cbs = instance._nuxtOnBeforeMountCbs;\n      if (instance) {\n        onBeforeMount(() => {\n          cbs.forEach((cb) => {\n            cb();\n          });\n          cbs.splice(0, cbs.length);\n        });\n        onUnmounted(() => cbs.splice(0, cbs.length));\n      }\n    }\n    if (fetchOnServer && nuxt.isHydrating && (asyncData.error.value || hasCachedData())) {\n      asyncData.pending.value = false;\n      asyncData.status.value = asyncData.error.value ? \"error\" : \"success\";\n    } else if (instance && (nuxt.payload.serverRendered && nuxt.isHydrating || options.lazy) && options.immediate) {\n      instance._nuxtOnBeforeMountCbs.push(initialFetch);\n    } else if (options.immediate) {\n      initialFetch();\n    }\n    if (options.watch) {\n      watch(options.watch, () => asyncData.refresh());\n    }\n    const off = nuxt.hook(\"app:data:refresh\", async (keys) => {\n      if (!keys || keys.includes(key)) {\n        await asyncData.refresh();\n      }\n    });\n    if (instance) {\n      onUnmounted(off);\n    }\n  }\n  const asyncDataPromise = Promise.resolve(nuxt._asyncDataPromises[key]).then(() => asyncData);\n  Object.assign(asyncDataPromise, asyncData);\n  return asyncDataPromise;\n}\nexport function useLazyAsyncData(...args) {\n  const autoKey = typeof args[args.length - 1] === \"string\" ? args.pop() : void 0;\n  if (typeof args[0] !== \"string\") {\n    args.unshift(autoKey);\n  }\n  const [key, handler, options] = args;\n  return useAsyncData(key, handler, { ...options, lazy: true }, null);\n}\nexport function useNuxtData(key) {\n  const nuxt = useNuxtApp();\n  if (!(key in nuxt.payload.data)) {\n    nuxt.payload.data[key] = null;\n  }\n  return {\n    data: toRef(nuxt.payload.data, key)\n  };\n}\nexport async function refreshNuxtData(keys) {\n  if (import.meta.server) {\n    return Promise.resolve();\n  }\n  await new Promise((resolve) => onNuxtReady(resolve));\n  const _keys = keys ? Array.isArray(keys) ? keys : [keys] : void 0;\n  await useNuxtApp().hooks.callHookParallel(\"app:data:refresh\", _keys);\n}\nexport function clearNuxtData(keys) {\n  const nuxtApp = useNuxtApp();\n  const _allKeys = Object.keys(nuxtApp.payload.data);\n  const _keys = !keys ? _allKeys : typeof keys === \"function\" ? _allKeys.filter(keys) : Array.isArray(keys) ? keys : [keys];\n  for (const key of _keys) {\n    if (key in nuxtApp.payload.data) {\n      nuxtApp.payload.data[key] = void 0;\n    }\n    if (key in nuxtApp.payload._errors) {\n      nuxtApp.payload._errors[key] = null;\n    }\n    if (nuxtApp._asyncData[key]) {\n      nuxtApp._asyncData[key].data.value = void 0;\n      nuxtApp._asyncData[key].error.value = null;\n      nuxtApp._asyncData[key].pending.value = false;\n      nuxtApp._asyncData[key].status.value = \"idle\";\n    }\n    if (key in nuxtApp._asyncDataPromises) {\n      nuxtApp._asyncDataPromises[key] = void 0;\n    }\n  }\n}\nfunction pick(obj, keys) {\n  const newObj = {};\n  for (const key of keys) {\n    newObj[key] = obj[key];\n  }\n  return newObj;\n}\n","import { computed, reactive, toValue } from \"vue\";\nimport { hash } from \"ohash\";\nimport { useRequestFetch } from \"./ssr.js\";\nimport { useAsyncData } from \"./asyncData.js\";\nimport { fetchDefaults } from \"#build/nuxt.config.mjs\";\nexport function useFetch(request, arg1, arg2) {\n  const [opts = {}, autoKey] = typeof arg1 === \"string\" ? [{}, arg1] : [arg1, arg2];\n  const _request = computed(() => {\n    let r = request;\n    if (typeof r === \"function\") {\n      r = r();\n    }\n    return toValue(r);\n  });\n  const _key = opts.key || hash([autoKey, typeof _request.value === \"string\" ? _request.value : \"\", ...generateOptionSegments(opts)]);\n  if (!_key || typeof _key !== \"string\") {\n    throw new TypeError(\"[nuxt] [useFetch] key must be a string: \" + _key);\n  }\n  if (!request) {\n    throw new Error(\"[nuxt] [useFetch] request is missing.\");\n  }\n  const key = _key === autoKey ? \"$f\" + _key : _key;\n  if (!opts.baseURL && typeof _request.value === \"string\" && _request.value.startsWith(\"//\")) {\n    throw new Error('[nuxt] [useFetch] the request URL must not start with \"//\".');\n  }\n  const {\n    server,\n    lazy,\n    default: defaultFn,\n    transform,\n    pick,\n    watch,\n    immediate,\n    getCachedData,\n    deep,\n    ...fetchOptions\n  } = opts;\n  const _fetchOptions = reactive({\n    ...fetchDefaults,\n    ...fetchOptions,\n    cache: typeof opts.cache === \"boolean\" ? void 0 : opts.cache\n  });\n  const _asyncDataOptions = {\n    server,\n    lazy,\n    default: defaultFn,\n    transform,\n    pick,\n    immediate,\n    getCachedData,\n    deep,\n    watch: watch === false ? [] : [_fetchOptions, _request, ...watch || []]\n  };\n  let controller;\n  const asyncData = useAsyncData(key, () => {\n    controller?.abort?.();\n    controller = typeof AbortController !== \"undefined\" ? new AbortController() : {};\n    const timeoutLength = toValue(opts.timeout);\n    if (timeoutLength) {\n      setTimeout(() => controller.abort(), timeoutLength);\n    }\n    let _$fetch = opts.$fetch || globalThis.$fetch;\n    if (import.meta.server && !opts.$fetch) {\n      const isLocalFetch = typeof _request.value === \"string\" && _request.value.startsWith(\"/\") && (!toValue(opts.baseURL) || toValue(opts.baseURL).startsWith(\"/\"));\n      if (isLocalFetch) {\n        _$fetch = useRequestFetch();\n      }\n    }\n    return _$fetch(_request.value, { signal: controller.signal, ..._fetchOptions });\n  }, _asyncDataOptions);\n  return asyncData;\n}\nexport function useLazyFetch(request, arg1, arg2) {\n  const [opts, autoKey] = typeof arg1 === \"string\" ? [{}, arg1] : [arg1, arg2];\n  return useFetch(\n    request,\n    {\n      ...opts,\n      lazy: true\n    },\n    // @ts-expect-error we pass an extra argument with the resolved auto-key to prevent another from being injected\n    autoKey\n  );\n}\nfunction generateOptionSegments(opts) {\n  const segments = [\n    toValue(opts.method)?.toUpperCase() || \"GET\",\n    toValue(opts.baseURL)\n  ];\n  for (const _obj of [opts.params || opts.query]) {\n    const obj = toValue(_obj);\n    if (!obj) {\n      continue;\n    }\n    const unwrapped = {};\n    const iterator = Array.isArray(obj) ? obj : Object.entries(obj);\n    for (const [key, value] of iterator) {\n      unwrapped[toValue(key)] = toValue(value);\n    }\n    segments.push(unwrapped);\n  }\n  return segments;\n}\n","export default async (filters) => {\r\n  const {data, error, refresh} = await useFetch('/api/wines/wine', {\r\n    params: {\r\n      ...filters,\r\n    },\r\n  });\r\n\r\n  \r\n  if(error.value) {\r\n    throw createError({\r\n      ...error.value,\r\n      statusMessage: \"Unable to fetch data\"\r\n    })\r\n  }\r\n\r\n\r\n  return {data, refresh};\r\n};","<script setup>\r\nuseHead({\r\n  title: \"Vín\",\r\n});\r\n\r\nconst route = useRoute();\r\n\r\nconst maxPrice  = computed(() => route.query.maxPrice)\r\nconst minPrice  = computed(() => route.query.minPrice)\r\nconst category  = computed(() => route.query.category)\r\nconst search    = computed(() => route.query.search)\r\n\r\nconst {data: wines, refresh} = await useFetchWines({\r\n  minPrice,\r\n  maxPrice,\r\n  category,\r\n  search,\r\n});\r\n\r\nwatch(\r\n  () => route.query, \r\n  () => refresh()\r\n);\r\n\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <wineJumbo />\r\n    <wineFilters />\r\n    <wineCards :wines=\"wines\"/>\r\n  </div>\r\n</template>"],"names":["pick","watch","_withAsyncContext"],"mappings":"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","x_google_ignoreList":[3,4,5]}